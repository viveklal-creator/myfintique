<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Fintique -Dashboard</title>
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/fintique_logo_white_text.png') }}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/theme.css') }}">
  <style>
    body.dark-mode {
      background-color: #121212;
      color: #e0e0e0;
    }

    .navbar-theme.dark-mode {
      background: linear-gradient(to right, #4b0082, #8b0000);
    }

    .card-theme.dark-mode {
      background-color: #1e1e1e;
      color: #e0e0e0;
      border-color: #333;
    }

    .btn-theme.dark-mode {
      background: linear-gradient(to right, #8b0000, #4b0082);
      color: white;
      border: none;
    }

    .text-muted.dark-mode {
      color: #aaa !important;
    }

    .logo {
      height: 150px;
      width: 200px;
      object-fit: contain;
    }

    .navbar {
      height: 60px;
    }

    .navbar-brand {
      display: flex;
      align-items: center;
      padding: 0;
    }
  </style>
</head>
<body id="body">
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-theme py-0" id="navbar">
    <div class="container-fluid">
      <a class="navbar-brand" href="{{ url_for('dashboard') }}">
        <img src="{{ url_for('static', filename='images/fintique_logo_white_text.png') }}" alt="Fintique Logo" class="logo">
      </a>
      <div class="ms-auto d-flex align-items-center gap-3">
        <button class="btn btn-sm btn-outline-light" onclick="toggleDarkMode()">ðŸŒ™ Toggle Dark Mode</button>
        <a class="btn btn-outline-light" href="{{ url_for('logout') }}">Logout</a>
      </div>
    </div>
  </nav>

  <!-- Cards -->
  <div class="container mt-5">
    <div class="row justify-content-center g-4">
      <div class="col-md-4 d-flex">
        <div class="card card-theme p-4 text-center shadow-sm w-100 h-100" id="card1">
          <h5>Upload TB</h5>
          <p class="text-muted" id="text1">Upload your Excel/CSV files for TB Analysis.</p>
          <a href="{{ url_for('upload_tb') }}" class="btn btn-theme mt-auto" id="btn1">Upload</a>
        </div>
      </div>
      <div class="col-md-4 d-flex">
        <div class="card card-theme p-4 text-center shadow-sm w-100 h-100" id="card2">
          <h5>TB Analysis</h5>
          <p class="text-muted" id="text2">Visualize and compare your TB performance.</p>
          <a href="{{ url_for('mom_tb_comparison') }}" class="btn btn-theme mt-auto" id="btn2">View</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Dark Mode Logic -->
  <script>
    function applyDarkMode(state) {
      const ids = ['body', 'navbar', 'card1', 'card2', 'btn1', 'btn2', 'text1', 'text2'];
      ids.forEach(id => {
        const el = document.getElementById(id);
        if (el) el.classList.toggle('dark-mode', state);
      });
    }

    function toggleDarkMode() {
      const isDark = document.getElementById('body').classList.toggle('dark-mode');
      applyDarkMode(isDark);
      localStorage.setItem('zentro-dark-mode', isDark ? 'on' : 'off');
    }

    window.onload = function () {
      const mode = localStorage.getItem('zentro-dark-mode');
      if (mode === 'on') {
        applyDarkMode(true);
      }
    };
  </script>
</body>
</html>